{% extends 'layouts/base.html' %}
{% load static %}

{% block content %}
  <div class="row">

  <!-- [ form-element ] start -->
  <div class="col-sm-12">
    <!-- Basic Inputs -->
    <div class="card">
      <div class="card-header">
        <h5>New API</h5>
      </div>
      <form class="validate-me" id="validate-me" method="post" action="." data-validate>
        {% csrf_token %}
        <div class="card-body">
          {% if messages %}
            {% for message in messages %}
              <div class="alert alert-{{ message.tags }} alert-dismissible show" role="alert">
                {{ message }}
                <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                  <span aria-hidden="true">&times;</span>
                </button>
              </div>
            {% endfor %}
          {% endif %}

          {% if messages %}
            {% for message in messages %}
              <div class="alert alert-primary">
                <div class="media align-items-center">
                  <i class="feather icon-alert-circle h2"></i>
                  <div class="media-body ms-3">
                    {{ message }}
                  </div>
                </div>
              </div>
            {% endfor %}
          {% endif %}

          <div class="form-group">
            <label class="form-label" for="id_{{ form.exchange.name }}">{{ form.exchange.label }}</label>
            {{ form.exchange }}
            <small class="form-text text-muted">{{ form.exchange.errors }}</small>
          </div>
          <span class="text-danger">{{ form.exchange.errors }}</span>

          <div class="form-group">
            <label class="form-label" for="id_{{ form.api_name.name }}">{{ form.api_name.label }}</label>
            {{ form.api_name }}
            <small class="form-text text-muted">{{ form.api_name.errors }}</small>
          </div>
          <span class="text-danger">{{ form.api_name.errors }}</span>

          <div class="form-group">
            <label class="form-label" for="id_{{ form.api_key.name }}">{{ form.api_key.label }}</label>
            {{ form.api_key }}
            <small class="form-text text-muted">{{ form.api_key.errors }}</small>
          </div>

          <div class="form-group">
            <label class="form-label"
                   for="id_{{ form.secret_key_hashed.name }}">{{ form.secret_key_hashed.label }}</label>
            {{ form.secret_key_hashed }}
            <small class="form-text text-muted">{{ form.secret_key_hashed.errors }}</small>
          </div>

          <div class="form-group">
            <label class="form-label" for="id_{{ form.api_mode.name }}">{{ form.api_mode.label }}</label>
            {{ form.api_mode }}
            <small class="form-text text-muted">{{ form.api_mode.errors }}</small>
          </div>

        </div>
        <div class="card-footer">
          <button class="btn btn-primary me-2">Submit</button>
          <button type="reset" class="btn btn-light">Reset</button>
        </div>
      </form>
    </div>
    <!-- [ form-element ] end -->
  </div>
  <!-- [ Main Content ] end -->
{% endblock content %}

{% block extra_js %}

  <!---validation Js -->
  {#  <script src="{% static 'assets/js/plugins/bouncer.min.js' %}"></script>#}
  <!-- form-picker-custom Js -->
  {#  <script src="{% static 'assets/js/pages/form-validation.js' %}"></script>#}

{% endblock extra_js %}